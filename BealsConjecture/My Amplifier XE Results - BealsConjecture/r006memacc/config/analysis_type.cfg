<?xml version="1.0" encoding="UTF-8"?>
<bag xmlns:boolean="http://www.w3.org/2001/XMLSchema#boolean" xmlns:int="http://www.w3.org/2001/XMLSchema#int">
 <internal>
  <name>%PTUSNBMemoryAccessAtypeName</name>
  <shortName>%PTUSNBMemoryAccessAtypeShortName</shortName>
  <description>%PTUSNBMemoryAccessAtypeDescription</description>
  <abbreviation>memacc</abbreviation>
  <alias>snb-memory-access</alias>
  <int:schemaVersion>1</int:schemaVersion>
  <int:contentVersion>1</int:contentVersion>
  <property name="helpId">configs.event_based_analysis_f1103</property>
 </internal>
 <prerequisites>
  <rule>
   <ruleExpr>$PMU == snb</ruleExpr>
   <ruleExpr>$PMU == snbep</ruleExpr>
   <else>
    <error>%ThisAnalysisTypeIsNotApplicable</error>
   </else>
  </rule>
 </prerequisites>
 <knobs>
  <booleanKnob id="enableStackCollection" displayName="%EnableStackCollection" cliName="enable-stack-collection">
   <description>%EnableStackCollectionDescription</description>
   <boolean:defaultValue>false</boolean:defaultValue>
  </booleanKnob>
  <stringKnob id="initialViewpoint" displayName="%InitialViewpoint" boolean:visible="false">
   <defaultValue>%PMUEventsViewpointName</defaultValue>
  </stringKnob>
 </knobs>
 <analysis>
  <collector id="runsa"/>
  <rule>
   <ruleExpr>$PMU != null</ruleExpr>
   <rule>
    <ruleExpr>$PMU == snb</ruleExpr>
    <collector idToAppend="runsa">
     <collectorKnob knob="enableVTSSCollection">$enableStackCollection</collectorKnob>
     <collectorKnob knob="pmuEventConfig">MEM_LOAD_UOPS_LLC_HIT_RETIRED.XSNP_HITM_PS:,MEM_LOAD_UOPS_LLC_HIT_RETIRED.XSNP_HIT_PS:,MEM_LOAD_UOPS_LLC_HIT_RETIRED.XSNP_MISS_PS:,MEM_LOAD_UOPS_LLC_HIT_RETIRED.XSNP_NONE_PS:,MEM_LOAD_UOPS_MISC_RETIRED.LLC_MISS_PS:,MEM_LOAD_UOPS_RETIRED.HIT_LFB_PS:,MEM_LOAD_UOPS_RETIRED.L1_HIT_PS:,MEM_LOAD_UOPS_RETIRED.L2_HIT_PS:,MEM_UOPS_RETIRED.ALL_LOADS_PS:,MEM_UOPS_RETIRED.ALL_STORES_PS:</collectorKnob>
    </collector>
   </rule>
   <rule>
    <ruleExpr>$PMU == snbep</ruleExpr>
    <collector idToAppend="runsa">
     <collectorKnob knob="enableVTSSCollection">$enableStackCollection</collectorKnob>
     <collectorKnob knob="pmuEventConfig">MEM_LOAD_UOPS_LLC_HIT_RETIRED.XSNP_HITM:,MEM_LOAD_UOPS_LLC_HIT_RETIRED.XSNP_HIT:,MEM_LOAD_UOPS_LLC_HIT_RETIRED.XSNP_MISS:,MEM_LOAD_UOPS_LLC_HIT_RETIRED.XSNP_NONE:,MEM_LOAD_UOPS_RETIRED.LLC_MISS:,MEM_LOAD_UOPS_RETIRED.HIT_LFB_PS:,MEM_LOAD_UOPS_RETIRED.L1_HIT_PS:,MEM_LOAD_UOPS_RETIRED.L2_HIT_PS:,MEM_UOPS_RETIRED.ALL_LOADS_PS:,MEM_UOPS_RETIRED.ALL_STORES_PS:</collectorKnob>
    </collector>
   </rule>
  </rule>
 </analysis>
</bag>
